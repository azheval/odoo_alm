# Руководство пользователя

## Установка модуля ALM и его зависимостей

Клонировать репозиторий ALM

Выполнить в терминале команду `docker-compose up -d`
Убедиться, что в докер работают контейнеры `web`, `db`, `drawio`
При необходимости указать другие порты: `web` работает на `8069` `drawio` `8080`.

Открыть Odoo создав базу данных.

![Создание базы данных](/docs/UserGuide/images/001.png)

В `Apps - Settings - Users` создать пользователя с ролью `Administrator`.

Открыть `Apps` и в поле поиска удалить фильтр `apps`. Ввести в поле поиска `alm`.

![Установка фильтра ALM](/docs/UserGuide/images/002.png)

Доступно 8 модулей. Последовательность активации модулей: `ALM Base`, `ALM Requirement` позволяет активировать зависимые модули автоматически.

![Модули ALM](/docs/UserGuide/images/003.png)

## Добавление модуля ALM

Для добавления новых модулей следует воспользоваться кнопкой `Update App List`.

![Модули ALM](/docs/UserGuide/images/026.png)

После обновления списка модулей в `ALM` добавиться новый модуль `ALM Test` который необходимо активировать.

## Характеристика модулей ALM

### Модуль ALM Base

Базовый модуль работы с `Configurable Units`, `Versions`, `Configurations Tags`.

#### Configurable Units

Список приложений. Для приложения можно указать техническое наименование, пользователей модуля, теги, тип приложения. Для 1с приложений можно указать `конфигурация`, `расширение`, `библиотека`. После создания версии приложения она автоматически добавляется в список версий.

![Модули ALM](/docs/UserGuide/images/004.png)

#### Versions

Версии конфигурационных единиц. Указываются зависимости от других версий и в какие версии конфигурационных единиц входит данная версия.

![Модули ALM](/docs/UserGuide/images/005.png)

#### Configurations Tags

Теги создаются в меню `Configuration - Tags`.

### Модуль ALM Metadata

Модуль предназначен для хранения метаданных. Модуль поставляется с частично заполненными типами метаданных. Новые типы можно дабавить самостоятельно `Metadata Catalog - Object Types`.
Для объекта метаданных указывается его тип, техническое имя и идентификатор, версия конфигурационной единицы.

![Модули ALM](/docs/UserGuide/images/007.png)

Атрибуты объекта метаданных описываются в произвольной древовидной структуре.

![Модули ALM](/docs/UserGuide/images/006.png)

Доступна загрузка объектов метаданных из файла. Поддерживается загрузка из файла формата XML (формат выгрузки платформы 1с). При загрузке будут автоматически созданы отсутствующие типы объектов метаданных. Существующие объекты метаданных не перезаписываются.

![Модули ALM](/docs/UserGuide/images/025.png)

### Модуль ALM Data Flow

Модуль реализует работу с функциями, процессами состоящими из функций, потоками состоящими из процессов.

#### Functions/Steps

:warning: Прежде чем создавать функции необходимо создать процесс.

В функции указывается процесс, входящие и исходящие метаданные.

![Модули ALM](/docs/UserGuide/images/008.png)

#### Processes

В процессе на странице `Nodes` указываются функции. Поддерживаются `Node Type`:

- Start. Начало процесса.
- End. Конец процесса.
- Function. Функция.
- Gateway. Условие.
- Event. Событие.
- Loop. Цикл.

Если заданы координаты, они будут использоваться при генерировании диаграммы.
Если координаты не заданы, при генерировании диаграммы они будут сгенерированы автоматически.

![Модули ALM](/docs/UserGuide/images/009.png)

На странице `Edges` указываются связи между функциями.

![Модули ALM](/docs/UserGuide/images/010.png)

На странице `Aggregated Metadata` можно проконтролировать метаданные.

![Модули ALM](/docs/UserGuide/images/011.png)

Страница `Process Diagram` позволяет увидеть описание процесса в виде диаграммы.
Поддерживается перемещение блоков диаграммы. Добавление новых блоков. Удаление блоков. Применение цветовой схемы.

Диаграмма формируется по кнопке `Generate from Data`.
Сохранение и парсинг диаграммы по кнопке `Save and Update from Diagram`.
Если на диаграмме добавились новые блоки, они будут созданы в базе данных. Если на диаграмме удалены блоки, они будут удалены из базы данных.

![Модули ALM](/docs/UserGuide/images/012.png)

#### Data Flows

Потоки могут описывать взаимодействие процессов одной, или нескольких конфигурационных единиц.

На странице `Nodes` укзываются процессы отобранных конфигурационных единиц.

Поддерживаются `Node Type`:

- Start. Начало процесса.
- End. Конец процесса.
- Function. Функция.
- Gateway. Условие.
- Event. Событие.
- Loop. Цикл.

Если заданы координаты, они будут использоваться при генерировании диаграммы.
Если координаты не заданы, при генерировании диаграммы они будут сгенерированы автоматически.

![Модули ALM](/docs/UserGuide/images/013.png)

На странице `Edges` указываются связи между процессами.

![Модули ALM](/docs/UserGuide/images/014.png)

Страница `Invovved Metadata` позволяет просмотреть метаданные всех процессов.
На странице `Diagram` можно увидеть описание потока в виде диаграммы.

Диаграмма формируется по кнопке `Generate from Data`.
Кнопка `Save and Update from Diagram` позволяет сохранить диаграмму.
Поддерживается редактирование и удаление блоков при парсинге диаграммы.
Сохраняется цветовая схема диаграммы.

![Модули ALM](/docs/UserGuide/images/015.png)

#### Integrations

Интеграции позволяют описать маппинг аттрибутов объектов метаданных по выбранному потоку.
На странице `Field Mappings` описываются связи полей источника, приемника. Дополнительно можно описать промежуточные технические поля и логику преобразования. Выбор аттрибутув объектов метаданных ограничен объектами метаданных выбранного потока.

![Модули ALM](/docs/UserGuide/images/023.png)

Результат описания связей доступен для просмотра в диаграмме. Доступно сохранение диаграммы. Поддерживается только изменение цветовой схемы и расположение блоков.

![Модули ALM](/docs/UserGuide/images/024.png)

На странице `Requirements` указываются требования, связанные с интеграцией.

### Модуль ALM Requirement Management

Модуль реализует работу с требованиями.
Указываем проект из модуля ALM Project.

![Модули ALM](/docs/UserGuide/images/016.png)

В требованиях доступна информация о задачах связанных с требованием, зарегистрированным ошибкам.

![Модули ALM](/docs/UserGuide/images/021.png)

### Модуль ALM Bug Tracker

Модуль реализует работу с ошибками. В ошибке указывается требование, конфигурационная единица, версии в которых ошибка была обнаружена, версии исправления, метаданные с которыми связана ошибка. Дата обнаружения и дата к которой необходимо исправить ошибку.

![Модули ALM](/docs/UserGuide/images/019.png)

Доступно создание задачи на исправление ошибки.

![Модули ALM](/docs/UserGuide/images/020.png)

### Модуль ALM Project

Модуль реализует работу с проектами. Это типовой модуль Odoo дополненный данными конфигурциональных единиц модуля ALM Base.

![Модули ALM](/docs/UserGuide/images/017.png)

В задачах модуля можно указывать конфигурационные единицы, версии конфигурационных единиц, требования.

![Модули ALM](/docs/UserGuide/images/018.png)

Поддерживаются различные формы отображения задач.

![Модули ALM](/docs/UserGuide/images/022.png)

### Модуль ALM Test

Модуль реализует работу с тестами. Поддерживается три типа тестов:

- `Vanessa Automation`
- `Playwright`
- `Manual`

В форме `kanban` тесты группируются по `Test Suites`

![Модули ALM](/docs/UserGuide/images/027.png)

Для тестов `vanessa automation` и `playwright` поддерживается загрузка из соответствующих файлов. Из `feature` файлов заполняются поля `Name`, `Test Type`, `Responsible`. Дополнительно производится парсинг используемых сценариев.
Для автоматизированных тестов автоматически, либо вручную формируется иерархия вызовов. Автоматически иерерхия формируется для `vanessa automation`, `playwright`. Просмотр иерархии вызовов доступен в диаграмме.
Любой тест можно "связать" с функцией, процессом, потоком модуля `ALM Data Flow`.

![Модули ALM](/docs/UserGuide/images/028.png)

![Модули ALM](/docs/UserGuide/images/029.png)

![Модули ALM](/docs/UserGuide/images/030.png)

![Модули ALM](/docs/UserGuide/images/031.png)

### Модуль ALM Diagramming

Модуль реализует работу с диаграммами Draw.io.

### Модуль ALM Theme

Модуль реализует изменение типовой темы Odoo.
